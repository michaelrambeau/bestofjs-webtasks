# Bestof.js.org webtasks

node.js micro-services used by [bestof.js.org](http://bestof.js.org/#/) web application, built using https://webtask.io

Each "webtask" is either a plain JavaScript function either or a basic Express web server deployed on webtask.io.

[![Build Status](https://travis-ci.org/michaelrambeau/bestofjs-webtasks.svg?branch=master)](https://travis-ci.org/michaelrambeau/bestofjs-webtasks)

## User content API

Express web server used to read and write content generated by users:

* Github project reviews (user's rating and opinion about projects)
* Github project links (resources related to projects: tutorials, blog entries...)

### File system

* `src/server.js`: local Express web server
* `src/webtask.js`: entry point to build the file deployed to webtask.io using Webpack
* `build/webtask.js`: bundled webtask built by Webpack, ignored by git

### URLs

* GET `/reviews/`
* POST `/reviews/`
* PUT `/reviews/:id`


* GET `/links/`
* POST `/links/`
* PUT `/links/:id`

### Local web server

Start the local Express web server on port 3000

```
npm start
```

### Tests

Tests use [supertest](https://github.com/visionmedia/supertest) module to check Express server reponses without making http requests (no need to open any port).

```
npm test
```

### Deploy on webtask.io

STEP 1: build a single file from source files, using Webpack

```
npm run build
```

STEP 2: Create / Update the webtask, using `wt-cli` command line tool

```
npm run deploy
```

This command will display the webtask URL, when the deploy is completed.
